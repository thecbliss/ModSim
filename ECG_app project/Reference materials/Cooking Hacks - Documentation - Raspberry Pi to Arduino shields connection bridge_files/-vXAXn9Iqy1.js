/*1365392748,178142527*/

if (self.CavalryLogger) { CavalryLogger.start_js(["4ZPFB"]); }

__d("legacy:fbdesktop-detect",["FBDesktopDetect"],function(a,b,c,d){a.FbDesktopDetect=b('FBDesktopDetect');},3);
__d("IntlUtils",["AsyncRequest","Cookie","goURI"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Cookie'),i=b('goURI'),j={setXmode:function(k){(new g()).setURI('/ajax/intl/save_xmode.php').setData({xmode:k}).setHandler(function(){document.location.reload();}).send();},setAmode:function(k){new g().setURI('/ajax/intl/save_xmode.php').setData({amode:k,app:false}).setHandler(function(){document.location.reload();}).send();},setLocale:function(k,l,m,n){if(!m)m=k.options[k.selectedIndex].value;j.saveLocale(m,true,null,l,n);},saveLocale:function(k,l,m,n,o){new g().setURI('/ajax/intl/save_locale.php').setData({aloc:k,source:n,app_only:o}).setHandler(function(p){if(l){document.location.reload();}else i(m);}).send();},setLocaleCookie:function(k,l){h.set('locale',k,7*24*3600000);i(l);}};e.exports=j;});
__d("legacy:intl-base",["IntlUtils"],function(a,b,c,d){var e=b('IntlUtils');a.intl_set_xmode=e.setXmode;a.intl_set_amode=e.setAmode;a.intl_set_locale=e.setLocale;a.intl_save_locale=e.saveLocale;a.intl_set_cookie_locale=e.setLocaleCookie;},3);
__d("legacy:onload-action",["OnloadHooks"],function(a,b,c,d){var e=b('OnloadHooks');a._onloadHook=e._onloadHook;a._onafterloadHook=e._onafterloadHook;a.runHook=e.runHook;a.runHooks=e.runHooks;a.keep_window_set_as_loaded=e.keepWindowSetAsLoaded;},3);
__d("legacy:animation",["Animation"],function(a,b,c,d){a.Animation=b('Animation');},3);
__d("LoginFormController",["Event","ge","Button"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ge'),i=b('Button');f.init=function(j,k){g.listen(j,'submit',function(){i.setEnabled(k,false);i.setEnabled.curry(k,true).defer(15000);});var l=h('lgnjs');if(l)l.value=parseInt(Date.now()/1000,10);};});
__d("ClickRefUtils",[],function(a,b,c,d,e,f){var g={get_intern_ref:function(h){if(!!h){var i={profile_minifeed:1,gb_content_and_toolbar:1,gb_muffin_area:1,ego:1,bookmarks_menu:1,jewelBoxNotif:1,jewelNotif:1,BeeperBox:1,navSearch:1};for(var j=h;j&&j!=document.body;j=j.parentNode){if(!j.id||typeof j.id!=='string')continue;if(j.id.substr(0,8)=='pagelet_')return j.id.substr(8);if(j.id.substr(0,8)=='box_app_')return j.id;if(i[j.id])return j.id;}}return '-';},get_href:function(h){var i=(h.getAttribute&&(h.getAttribute('ajaxify')||h.getAttribute('data-endpoint'))||h.action||h.href||h.name);return typeof i==='string'?i:null;},should_report:function(h,i){if(i=='FORCE')return true;if(i=='INDIRECT')return false;return h&&(g.get_href(h)||(h.getAttribute&&h.getAttribute('data-ft')));}};e.exports=g;});
__d("setUECookie",["Env"],function(a,b,c,d,e,f){var g=b('Env');function h(i){if(!g.no_cookies){var j=0;if(a.afterloaded){j=2;}else if(a.loaded)j=1;document.cookie="act="+encodeURIComponent(i+":"+j)+"; path=/; domain="+window.location.hostname.replace(/^.*(\.facebook\..*)$/i,'$1');}}e.exports=h;});
__d("ClickRefLogger",["Arbiter","EagleEye","ClickRefUtils","collectDataAttributes","copyProperties","ge","setUECookie","$"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('EagleEye'),i=b('ClickRefUtils'),j=b('collectDataAttributes'),k=b('copyProperties'),l=b('ge'),m=b('setUECookie'),n=b('$');function o(q){if(!l('content'))return [0,0,0,0];var r=n('content'),s=a.Vector2?a.Vector2.getEventPosition(q):{x:0,y:0};return [s.x,s.y,r.offsetLeft,r.clientWidth];}function p(q,r,event,s){var t=(!a.ArbiterMonitor)?'r':'a',u=[0,0,0,0],v,w,x;if(!!event){v=event.type;if(v=='click'&&l('content'))u=o(event);var y=0;event.ctrlKey&&(y+=1);event.shiftKey&&(y+=2);event.altKey&&(y+=4);event.metaKey&&(y+=8);if(y)v+=y;}if(!!r)w=i.get_href(r);var z=[];if(a.ArbiterMonitor){x=a.ArbiterMonitor.getInternRef(r);z=a.ArbiterMonitor.getActFields();}var aa=j(!!event?(event.target||event.srcElement):r,['ft','gt']);k(aa.ft,s.ft||{});k(aa.gt,s.gt||{});if(typeof(aa.ft.ei)==='string')delete aa.ft.ei;var ba=[q._ue_ts,q._ue_count,w||'-',q._context,v||'-',x||i.get_intern_ref(r),t,a.URI?a.URI.getRequestURI(true,true).getUnqualifiedURI().toString():location.pathname+location.search+location.hash,aa].concat(u).concat(z);return ba;}g.subscribe("ClickRefAction/new",function(q,r){if(i.should_report(r.node,r.mode)){var s=p(r.cfa,r.node,r.event,r.extra_data);m(r.cfa.ue);h.log('act',s);if(window.chromePerfExtension)window.postMessage({clickRef:JSON.stringify(s)},window.location.origin);}});});
__d("PostLoadJS",["Bootloader","Run","emptyFunction"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Run'),i=b('emptyFunction');function j(l,m){h.onAfterLoad(function(){g.loadModules.call(g,[l],m);});}var k={loadAndRequire:function(l){j(l,i);},loadAndCall:function(l,m,n){j(l,function(o){o[m].apply(o,n);});}};e.exports=k;});
__d("QuicklingAugmenter",["URI"],function(a,b,c,d,e,f){var g=b('URI'),h=[],i={addHandler:function(j){h.push(j);},augmentURI:function(j){var k=[],l=g(j);h.forEach(function(m){var n=m(l);if(!n)return l;k.push(m);l=l.addQueryData(n);});h=k;return l;}};e.exports=i;});
__d("Quickling",["AjaxPipeRequest","Arbiter","Class","CSSClassTransition","DocumentTitle","DOM","ErrorUtils","HTML","OnloadHooks","PageTransitions","QuicklingAugmenter","Run","URI","UserAgent","copyProperties","goOrReplace","isEmpty","QuicklingConfig"],function(a,b,c,d,e,f){var g=b('AjaxPipeRequest'),h=b('Arbiter'),i=b('Class'),j=b('CSSClassTransition'),k=b('DocumentTitle'),l=b('DOM'),m=b('ErrorUtils'),n=b('HTML'),o=b('OnloadHooks'),p=b('PageTransitions'),q=b('QuicklingAugmenter'),r=b('Run'),s=b('URI'),t=b('UserAgent'),u=b('copyProperties'),v=b('goOrReplace'),w=b('isEmpty'),x=b('QuicklingConfig'),y=x.version,z=x.sessionLength,aa=new RegExp(x.inactivePageRegex),ba=0,ca,da='',ea={isActive:function(){return true;},isPageActive:function(la){if(la=='#')return false;la=new s(la);if(la.getDomain()&&la.getDomain()!=s().getDomain())return false;if(la.getPath()=='/l.php'){var ma=la.getQueryData().u;if(ma){ma=s(unescape(ma)).getDomain();if(ma&&ma!=s().getDomain())return false;}}var na=la.getPath(),oa=la.getQueryData();if(!w(oa))na+='?'+s.implodeQuery(oa);return !aa.test(na);},getLoadCount:function(){return ba;}};function fa(la){la=la||'Facebook';k.set(la);if(t.ie()){da=la;if(!ca)ca=window.setInterval(function(){var ma=da,na=k.get();if(ma!=na)k.set(ma);},5000,false);}}function ga(la){var ma=document.getElementsByTagName('link');for(var na=0;na<ma.length;++na){if(ma[na].rel!='alternate')continue;l.remove(ma[na]);}if(la.length){var oa=l.find(document,'head');oa&&l.appendContent(oa,n(la[0]));}}function ha(la){var ma={version:y};this.parent.construct(this,la,{quickling:ma});}i.extend(ha,g);u(ha.prototype,{_preBootloadFirstResponse:function(la){return true;},_fireDomContentCallback:function(){this._request.cavalry&&this._request.cavalry.setTimeStamp('t_domcontent');p.transitionComplete();this._onPageDisplayed&&this._onPageDisplayed(this.pipe);this.parent._fireDomContentCallback();},_fireOnloadCallback:function(){if(this._request.cavalry){this._request.cavalry.setTimeStamp('t_hooks');this._request.cavalry.setTimeStamp('t_layout');this._request.cavalry.setTimeStamp('t_onload');}this.parent._fireOnloadCallback();},isPageActive:function(la){return ea.isPageActive(la);},_versionCheck:function(la){if(la.version==y)return true;var ma=['quickling','ajaxpipe','ajaxpipe_token'];v(window.location,s(la.uri).removeQueryData(ma),true);return false;},_processFirstResponse:function(la){var ma=la.getPayload();fa(ma.title);ga(ma.syndication||[]);window.scrollTo(0,0);j.go(document.body,ma.body_class||'',p.getMostRecentURI(),la.getRequest().getURI());},getSanitizedParameters:function(){return ['quickling'];}});function ia(){ba++;return ba>=z;}function ja(la){g.setCurrentRequest(null);if(ia())return false;la=q.augmentURI(la);if(!ea.isPageActive(la))return false;window.ExitTime=Date.now();r.__removeHook('onafterloadhooks');r.__removeHook('onloadhooks');o.runHooks('onleavehooks');h.inform('onload/exit',true);new ha(la).setCanvasId('content').send();return true;}function ka(la){var ma=window[la];function na(oa,pa,qa){if(typeof oa!=='function')oa=eval.bind(null,oa);var ra=ma(m.guard(oa),pa);if(pa>0)if(qa!==false)r.onLeave(function(){clearInterval(ra);});return ra;}window[la]=na;}r.onAfterLoad(function la(){ka('setInterval');ka('setTimeout');p.registerHandler(ja,1);});e.exports=a.Quickling=ea;});
__d("StringTransformations",[],function(a,b,c,d,e,f){e.exports={unicodeEscape:function(g){return g.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(h){var i=h.charCodeAt().toString(16);return '\\u'+('0000'+i.toUpperCase()).slice(-4);});},unicodeUnescape:function(g){return g.replace(/(\\u[0-9A-Fa-f]{4})/g,function(h){return String.fromCharCode(parseInt(h.slice(2),16));});}};});
__d("TimeSpentLogger",["Arbiter","Banzai","CSS","ClickRefUtils","DOMEventListener","ScriptPath","UserActivity","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Banzai'),i=b('CSS'),j=b('ClickRefUtils'),k=b('DOMEventListener'),l=b('ScriptPath'),m=b('UserActivity'),n=b('collectDataAttributes'),o=b('copyProperties'),p=[m.getLastInformTime(),0],q=m.getLastInformTime(),r={tos_seq:0,tos_cumulative:0,transport_cause:null,buenopath:null,page_token:null,elements:0,uact_tos:null,client_time:null},s=100,t=100,u=10*1000,v=3*1000,w=1,x=2,y=4,z=8,aa={};m.subscribe(function(ia,ja){var ka=p.length-1;q=ja.last_inform;if(ja.idleness<v){p[ka]+=ja.idleness;r.tos_cumulative+=ja.idleness;}else{if(ka>s)fa('array_limit_reached');p.push(ja.idleness,0);}});function ba(ia){var ja=0;if(document.getElementById('boulder_fixed_header'))ja=ja|w;if(i.hasClass(document.body,'timelineLayout')){ja=ja|y;var ka=document.getElementById('pagelet_main_column_personal');if(ka&&ka.getAttribute('data-referrer')==='pagelet_main_column_personal_timeline')ja=ja|x;if(i.hasClass(document.body,'pagesTimelineLayout'))ja=ja|z;}return ja;}function ca(ia){var ja=ba(),ka=l.getScriptPath(),la=l.getCategoryToken();r.uact_tos=p;if(ka){r.buenopath=ka.substring(0,t);}else r.buenopath='';if(la){r.page_token=la;}else r.page_token='';r.elements=ja;r.transport_cause=ia;r.client_time=Date.now();}function da(){r.tos_seq+=1;p=[q,0];}var ea={store:true,delay:3000,retry:true};function fa(ia){ca(ia);if(h.isEnabled('time_spent')){g.inform('timespent/tosdataposted',o({},r));h.post('time_spent',o({},r),ea);}da();}function ga(){fa('heartbeat');}function ha(){fa('before_unload');}if(window.top==window.self){k.add(window,'beforeunload',ha);setInterval(function(){if(Date.now()-m.getLastInformTime()>(u-100)&&(p.length>2||p[p.length-1]>0))ga();},u);}g.subscribe("UserAction/new",function(ia,ja){if(j.should_report(ja.node,ja.mode)){var ka=n(ja.node,['gt']),la={iref:j.get_intern_ref(ja.node),gt_ref:ka.ref,nav_section:ka.nav_section};ca('useraction');o(la,r);ja.ua.add_data(la);g.inform('timespent/tosdataposted',o({},r));da();}});e.exports=aa;});
__d("UserActionHistory",["Arbiter","ClickRefUtils","ScriptPath","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ClickRefUtils'),i=b('ScriptPath'),j=b('throttle'),k={click:1,submit:1},l=false,m={log:[],len:0},n=j.acrossTransitions(function(){try{l._ua_log=JSON.stringify(m);}catch(q){l=false;}},1000);function o(){try{if(a.sessionStorage){l=a.sessionStorage;l._ua_log&&(m=JSON.parse(l._ua_log));}}catch(q){l=false;}m.log[m.len%10]={ts:Date.now(),path:'-',index:m.len,type:'init',iref:'-'};m.len++;g.subscribe("UserAction/new",function(r,s){var t=s.ua,u=s.node,event=s.event;if(!event||!(event.type in k))return;var v={path:i.getScriptPath(),type:event.type,ts:t._ue_ts,iref:h.get_intern_ref(u)||'-',index:m.len};m.log[m.len++%10]=v;l&&n();});}function p(){return m.log.sort(function(q,r){return (r.ts!=q.ts)?(r.ts-q.ts):(r.index-q.index);});}o();e.exports={getHistory:p};});
__d("PluginShareButton",["DOMEvent","DOMEventListener","PluginResize","PopupWindow","UserAgent"],function(a,b,c,d,e,f){var g=b('DOMEvent'),h=b('DOMEventListener'),i=b('PluginResize'),j=b('PopupWindow'),k=b('UserAgent'),l={listen:function(m,n){var o=m.href;h.add(m,'click',function(p){new g(p).kill();j.open(o,340,670);});},resize:function(m){var n=k.firefox()||k.ie()>=9?1:0;new i(function(){return m.offsetWidth+m.offsetLeft+n;},function(){return m.offsetHeight+m.offsetTop;}).resize().auto();}};e.exports=l;});
__d("TinyViewport",["Event","CSS","DOM","debounce"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('debounce'),k=j(function(){var l=document.documentElement,m=i.getDocumentScrollElement(),n=l.clientHeight<400||l.clientWidth<m.scrollWidth;h.conditionClass(l,'tinyViewport',n);h.conditionClass(l,'canHaveFixedElements',!n);});k();g.listen(window,'resize',k);});
__d("WebStorageMonster",["Event","AsyncRequest","UserActivity","StringTransformations","arrayContains","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('UserActivity'),j=b('StringTransformations'),k=b('arrayContains'),l=b('setTimeoutAcrossTransitions'),m=300000,n=false;function o(t){var u={};for(var v in t){var w=t.getItem(v),x=j.unicodeEscape(v);if(typeof w==='string')u[x]=w.length;}return u;}function p(t){if(a.localStorage&&t.keys)s._getLocalStorageKeys().forEach(function(u){if(k(t.keys,u))a.localStorage.removeItem(u);});}function q(t){if(a.localStorage)s._getLocalStorageKeys().forEach(function(u){if(!t.some(function(v){return new RegExp(v).test(u);}))a.localStorage.removeItem(u);});if(a.sessionStorage)a.sessionStorage.clear();}function r(t){if(i.isActive(m)){l(r.curry(t),m);}else s.cleanNow(t);}var s={registerLogoutForm:function(t,u){g.listen(t,'submit',function(v){s.cleanOnLogout(u);});},schedule:function(t){if(n)return;n=true;r(t);},cleanNow:function(t){var u=Date.now(),v={},w=false;['localStorage','sessionStorage'].forEach(function(y){if(a[y]){v[y]=o(a[y]);w=true;}});var x=Date.now();v.logtime=x-u;if(w)new h('/ajax/webstorage/process_keys.php').setData(v).setHandler(function(y){if(!t){var z=y.getPayload();if(z.keys)z.keys=z.keys.map(j.unicodeUnescape);p(z);}}.bind(this)).send();},cleanOnLogout:function(t){if(t)q(t);if(a.sessionStorage)a.sessionStorage.clear();},_getLocalStorageKeys:Object.keys.curry(a.localStorage)};e.exports=s;});